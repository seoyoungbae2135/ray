<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!--Jquery-->
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>

    <!--Jquery-->
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>

    <script>
        // var xmlHttp = new XMLHttpRequest();
        // xmlHttp.onload = function(){
        //     var game = JSON.parse(this.responseText);

        //     document.getElementById("name").innerText = game.name;

        //     //alert(game.name)

        //     //alert(this.responseText);

        // }
        // xmlHttp.open("GET", "./data/game.json")
        // xmlHttp.send();


    // function 출력(std){
    //     var out="";
    //     var view = document.getElementById("view");

    //     for( var i in std ){ // for ~ in은 배열(std)의 인덱스 of는 값(value)을 변수i에 저장한다.
    //         out += `<div> 이름:${std[i].name} , 나이:${std[i].age}</div>`;
    //     }
    // }

    // var xmlHttp = new XMLHttpRequest(); // XML : html을 확장한 형태  서버데이터를 직접 가져올수 있다, XMLHttpRequest : 자바스크립트에서 외부파일을 가져오는 방법, new XMLHttpRequest()를 xmlHttp 변수로 저장. 
    // xmlHttp.onload = function(){ //외부 연결 성공시 실행되는 함수
    //     var student = JSON.parse(this.responseText); // json파일은 문자열로 저장 되어있기때문에 변환(JSON.parse)하여 객체로 사용할 수 있어야 한다. => 변환하여 student변수에 저장
        
    //     출력(student);  // 출력 함수 생성
    //     //console.log( student[0] )
        
    //     document.getElementById("name").innerText= student[0].name; // json 파일을 가져와서 html에 출력
    //     document.getElementById("age").innerText = student[0].age;  // 0번 인덱스  출력
    //     //alert( student.name);
    //     //alert(this.responseText) // 
    // }
    // xmlHttp.open("GET", "./data/student.json" ); //외부주소 연결 , open(전송방식, 주소)
        
    //     // 전송방식 - GET, POST 
    //     // 주소 - 웹주소 또는 로컬 파일 경로
    // xmlHttp.send();  // 전송이 있어야 한다

    // var xml = new XMLHttpRequest();

    // xml.onload = function(){
    //     var data = JSON.parse(this.responseText) //JSON.parse() - json 문자열을 객체로 변환
    //     document.getElementById("view").innerHTML=`
    //         <div> 캐릭터명 : ${data.name} </div>
    //         <div> 힘 : ${data.힘} 민첩 : ${data.민첩} 생명 : ${data.생명} 지능 : ${data.지능}</div>
    //         <div> hp : ${data.hp} mp : ${data.mp} </div>
    //     `; 
    // }
    // xml.open("GET", "./data/game.json");
    // xml.send();

    // var xml = new XMLHttpRequest();
    // xml.onload=function(){
    //     var data = JSON.parse(this.reponseText);
    //     document.write(data.name + " "+data.취미 )
    // }
    // xml.open("GET", "http://krdrive.ipdisk.co.kr:8000/test/aaa.php");
    // xml.send();

    //jquery에서 json 가져오기

    $.getJSON( "./data/game.json", function(data){  // json 가져오기 함수의 매개변수로 들어온다, 변환 필요없음(변환 완료상태)
        show(data)
        
        //alert( data.name);
    })

    function show(data){
        $("#view").html(`<div>캐릭터명 : ${data.name}</div> `);
    }

    </script>

    

</head>
<body>

    <div id="view">
        <div class="nameview">
            이름 :<div id="name"></div>
        </div>
        <div class="ageview">
            나이 : <div id="age"></div>
        </div>
    </div>
    
</body>
</html>

<!--
    json - java script Object notaion 데이터베이스에 비해 가벼운 데이터를 핸들링
           자바스크립트로 만들어놓은 객체를 표기하는방식. 수정이 어렵다 
           key도 따옴표로 감싼다, 숫자를 제외한 대부분은 ""로 감싼다

    {
    "name":"이순신",  객체가 만들어 짐
    "age":34
    }

-->